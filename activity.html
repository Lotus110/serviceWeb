<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<link rel="stylesheet" href="./css/common.css">
	<script src="./js/jquery-3.2.1.min.js"></script>
	<script>
		document.documentElement.style.fontSize = document.documentElement.clientWidth / 6.4 + 'px';
	</script>
	<style type="text/css">
		.nav-bar1{
		    height: 0.70rem;
		    line-height: 0.70rem;
		    background-color: #fff;
		    position: absolute;
		    top: 0;
		    left: 0;
		    right: 0;
		    z-index: 9;
		        float: left;
		        overflow-y: hidden;
		        overflow-x: scroll;
		        width: 100%;
		}
		.nav-bar1 .test{
			width:100%;display: inline;white-space: nowrap;float:left;overflow-y: hidden;
		        overflow-x: scroll;
		}
		.nav-bar1 .test li{
			float: left;
		}
		.nav-bar1 .test li a{
			display:inline-block;width:1.6rem;
		    height: 100%;
		    box-sizing: border-box;
		    font-size: 0.2401rem;
		    color: #a1a1a1;
		    text-align: center;
		}
		.nav-bar1 ul li a:active, .nav-bar1 ul li a.active {
		    color: #52b35e;
		    border-bottom: 3px solid #52b35e;
		   }
	</style>
</head>
<body>
	<header class="nav-bar1">
		<ul class="test" id="test">
			<li><a class="active" href="javascript:;">全部</a></li>
			<li><a href="javascript:;">特色活动</a></li>
			<li><a href="javascript:;">福利活动</a></li>
			<li><a href="javascript:;">赞助申请</a></li>
			<li><a href="javascript:;">其它活动</a></li>
		</ul>
	</header>
	<div class="page">
		<div class="content activity">
			<div class="list">
				<a class="list-item btn-buy">
					<div class="title">赞助申请赞助申请赞助申请赞助申请申请赞助申请</div>
					<div class="img">
						<img src="images/img1.png"/>
					</div>
				</a>
				<a class="list-item">
					<div class="title">赞助申请赞助申请赞助申请赞助申请申请赞助申请</div>
					<div class="img">
						<img src="images/img1.png"/>
					</div>
				</a>
				<a class="list-item">
					<div class="title">赞助申请赞助申请赞助申请赞助申请申请赞助申请</div>
					<div class="img">
						<img src="images/img1.png"/>
					</div>
				</a>
				<a class="list-item">
					<div class="title">赞助申请赞助申请赞助申请赞助申请申请赞助申请</div>
					<div class="img">
						<img src="images/img1.png"/>
					</div>
				</a>
				<a class="list-item">
					<div class="title">赞助申请赞助申请赞助申请赞助申请申请赞助申请</div>
					<div class="img">
						<img src="images/img1.png"/>
					</div>
				</a>
				<a class="list-item">
					<div class="title">赞助申请赞助申请赞助申请赞助申请申请赞助申请</div>
					<div class="img">
						<img src="images/img1.png"/>
					</div>
				</a>
				<a class="list-item">
					<div class="title">赞助申请赞助申请赞助申请赞助申请申请赞助申请</div>
					<div class="img">
						<img src="images/img1.png"/>
					</div>
				</a>
			</div>
		</div>
	</div>
	<div class="dialog shopInfo">
		<h1 class="name">育商家育商家育商</h1>
		<div class="content">
			<img src="images/code.png">
		</div>
	</div>
	<div class="dialog-bg"></div>
</body>
</html>
<script type="text/javascript">
    var dialog = $('.dialog');
    var bodyH = $('body').height();
    $('.btn-buy').click(function(){
    	var top = (bodyH - dialog.height())/2;
    	var dialogH = bodyH - 60;
    	if(top <= 30){
    		dialog.css({
    			'height': dialogH,
    			'overflow-y': 'auto'
    		});
    		top = 30;
    	}else{
    		dialog.attr("style", "");
			}
    	dialog.addClass('show');
    	dialog.animate({
            top: top
        }, 600);
    });
    $('.dialog-bg').click(function(e){
    	dialog.animate({
            top: '100%'
        }, 600, function(){
        	dialog.removeClass('show');
        });
    });

    $(function(){
    	 // var startX, startY, endX, endY;
      //    var w=$("#test li a").width();
      //    document.getElementById("test").addEventListener("touchstart", touchStart, false);
      //    document.getElementById("test").addEventListener("touchmove", touchMove, false);
      //    document.getElementById("test").addEventListener("touchend", touchEnd, false);
      //    function touchStart(event) {
      //        var touch = event.touches[0];
      //       startY = touch.pageY;
      //        startX = touch.pageX;
      //        console.log("startX:"+startY);
      //        console.log("startY:"+startX);
      //    }
      //    function touchMove(event) {
      //        var touch = event.touches[0];
      //        //endY = (startY - touch.pageY);
      //        endX = touch.pageX;
      //        endY = touch.pageY;
      //        console.log("endX:"+endX);
      //        console.log("endY:"+endY);
      //    }
      //    function touchEnd(event) {
      //    	if(startX>endX){  //判断左右移动程序
      //               $("#test li a").scrollLeft($("#test li a").scrollLeft()+w);
      //         }else{
      //              $("#test li a").animate({scrollLeft: $("#test li a").scrollLeft()-w},100);
      //        }
      //    }
     	 var w=$("#test li a").width();
		  $("#test").on('touchmove', function(event) {
		  		// console.log();
		        var touch= event.touches[0];
		        if(touch.pageX>10){
		           $("#test li a").animate({scrollLeft: $("#test li a").scrollLeft()+w},100);
		        }
		        if(touch.pageX<-10){
		            $("#test li a").animate({scrollLeft: $("#test li a").scrollLeft()-w},100);
		        }
		    });

       // _touch()
    })
     function _touch(){
              var startx;//让startx在touch事件函数里是全局性变量。
              var endx;
               var el=document.getElementById('test');
               var w=$("#test li a").width();
              function cons(){   //独立封装这个事件可以保证执行顺序，从而能够访问得到应该访问的数据。
                     if(startx>endx){  //判断左右移动程序
                     	alert("left");
                            // $("#test li a").scrollLeft($("#test li a").scrollLeft()+w);
                      }else{
                           // $("#test li a").animate({scrollLeft: $("#test li a").scrollLeft()-w},100);
                     }
               }
               el.addEventListener('touchstart',function(e){
                       var touch=e.changedTouches;
                     startx=touch[0].clientX;
                    starty=touch[0].clientY;
            });
             el.addEventListener('touchend',function(e){
                 var touch=e.changedTouches;
                     endx=touch[0].clientX;
                      endy=touch[0].clientY;
                      cons();  
           });
     }
</script>


